!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Boa=e()}(this,function(){"use strict";var t={VERSION:"0.0.1",_bindings:[],_properties:{},_sources:{},_style:null,init:function(){var t=this;this._style=document.createElement("style"),document.head.appendChild(this._style),document.addEventListener("DOMContentLoaded",function(){new MutationObserver(function(e){e.forEach(t._handleMutation.bind(t))}).observe(document.body,{attributes:!0,childList:!0,characterData:!0,subtree:!0,attributeFilter:["class","style"]})})},_handleMutation:function(t){var e=t.target;this._bindings.forEach(function(t){e.matches&&e.matches(t.source.selector)&&t._apply(t,e)}.bind(this))},source:function(t,e){var r=t+"."+e;return this._sources.hasOwnProperty(r)||(this._sources[r]=new this.Source(t,e)),this._sources[r]},defineProperty:function(t,e){if(2!==arguments.length)throw new Error("Incorrect number of arguments to defineProperty");if(this._properties.hasOwnProperty(t))throw new Error("Property already exists");this._properties[t]=e}};return t.Source=function(t,e){var r=/((\w+):)?(\w+)/i,n=r.exec(e);if(!n)throw new Error("unable to parse property");this._custom=n[2],this.property=n[3],this.selector=t},t.Source.prototype.bindTo=function(e,r){var n=new t.Binding(this,e,r);return t._bindings.push(n),n},t.Source.prototype.value=function(){var e=document.querySelector(this.selector);return this._custom?t._properties[this.property](e):window.getComputedStyle(e).getPropertyValue(this.property)},t.Binding=function(t,e,r){this.source=t,this.selector=e,this.property=r,this._apply()},t.Binding.prototype._apply=function(){var e=this.source.value();if(this.cssRule)this.cssRule.style[this.property]=e;else{var r=this.selector+"{"+this.property+":"+e+";}",n=t._style.sheet,i=n.insertRule(r,n.cssRules.length);this.cssRule=n.rules[i]}},t.defineProperty("clientLeft",function(t){return t.getBoundingClientRect().left}),t.defineProperty("clientTop",function(t){return t.getBoundingClientRect().top}),t.init(),t});